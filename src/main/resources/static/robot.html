<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>机器人出餐管理系统</title>
    <!-- 引入外部资源 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* 马卡龙糖果色系定义 - 提高饱和度，更符合餐厅食欲感 */
        :root {
            --macaron-blue: #A8DADC;        /* 马卡龙蓝 */
            --macaron-blue-dark: #5F9EA0;
            --macaron-green: #C7CEEA;       /* 马卡龙绿 */
            --macaron-green-dark: #4f6550;       /* 马卡龙绿 */
            --macaron-pink: #FFCAD4;        /* 马卡龙粉 */
            --macaron-pink-dark: #D64933;
            --macaron-yellow: #FFE5D9;      /* 马卡龙黄 */
            --macaron-tyellow: #FFFACD;
            --macaron-yellow-dark: #DAA520;
            --macaron-purple: #B7B7A4;      /* 马卡龙紫 */
            --macaron-orange: #FEC89A;      /* 马卡龙橙 */
            --macaron-light: #F8F9FA;       /* 马卡龙浅灰 */
            --text-color: #333333;          /* 文本颜色 */
            --macaron-gray: #E9ECEF;
            --macaron-gray-dark: #6C757D;
            --macaron-red: #F8C6CF;
            --macaron-red-dark: #C92A2A;
            /*--macaron-orange: #FFE5B4;*/
            --macaron-orange-dark: #E67E22;

            /* 内存分区颜色 */
            --allocated-color: #fdc494;     /* 已分配分区 - 橙色色 */
            --free-color: rgba(129, 192, 129, 0.88);          /* 空闲分区 - 绿色 */
            --border-color: #FFFFFF;        /* 分区边框 */
        }
        /* 补充状态文本颜色类 */
        .text-macaron-blue-dark {
            color: var(--macaron-blue-dark);
        }
        .text-macaron-yellow-dark {
            color: var(--macaron-yellow-dark);
        }
        .text-macaron-pink-dark {
            color: var(--macaron-pink-dark);
        }
        .text-macaron-orange-dark {
            color: var(--macaron-orange-dark);
        }

        /* 补充背景颜色类（如果需要） */
        .bg-macaron-blue\/20 {
            background-color: var(--macaron-blue);
        }
        .bg-macaron-yellow\/20 {
            background-color: var(--macaron-yellow);
        }
        .bg-macaron-pink\/20 {
            background-color: var(--macaron-pink);
        }
        /* 算法对比指标颜色 */
        .improvement-positive {
            color: var(--macaron-pink-dark); /* 收益提升用粉红色 */
            font-weight: bold;
        }
        .improvement-negative {
            color: var(--macaron-blue-dark); /* 响应时间变长或收益下降用蓝色 */
            font-weight: bold;
        }

        /* 状态标签和按钮的过渡动画 */
        .transition-all {
            transition: all 0.3s ease;
        }

        .transition-colors {
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* 悬停效果 */
        .hover\:shadow-sm:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        body {
            color: var(--text-color);
            background-color: #FFF9F5;      /* 温暖的浅底色，增强食欲感 */
            display: flex;                /* 新增: 启用 Flexbox */
            flex-direction: column;       /* 新增: 垂直排列子元素 */
            min-height: 100vh;            /* 新增: body 至少占据整个视口高度 */
        }

        .content-area {
            /* min-height: calc(100vh - 120px);  <-- 注释掉，使用 Flexbox 替代 */
            flex-grow: 1;                 /* 新增: 让内容区域占据所有剩余空间 */
            display: flex;                /* 新增: 确保内容区内部的页面也能撑开 */
            flex-direction: column;
        }

        .status-badge {
            padding: 0.35em 0.65em;
            border-radius: 0.375rem;
        }

        .robot-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .robot-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .map-container {
            position: relative;
            height: 450px;                  /* 增加地图高度 */
            background-color: #FEF6F0;      /* 温暖的地图背景 */
            border-radius: 0.5rem;
            overflow: hidden;
            border: 1px solid #F0E6E0;
        }

        .robot-marker {
            position: absolute;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            z-index: 10;
            transition: all 0.5s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .robot-marker {
            background-color: var(--macaron-blue); /* 统一机器人颜色 */
            color: #2A7B9B;
        }

        .station {
            position: absolute;
            padding: 6px 12px;
            background-color: var(--macaron-green);
            color: #4A5859;
            border-radius: 6px;
            font-size: 13px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-weight: 500;
        }

        .path-line {
            position: absolute;
            background-color: rgba(199, 206, 234, 0.4);
            transform-origin: 0 0;
            z-index: 5;
        }

        .card {
            border: none;
            box-shadow: 0 3px 10px rgba(0,0,0,0.07);
            border-radius: 0.75rem;
            overflow: hidden;
            background-color: white;
        }

        .card-header {
            background-color: white;
            border-bottom: 1px solid #F0E6E0;
            padding: 1rem 1.25rem;
        }

        .table {
            border-collapse: separate;
            border-spacing: 0;
        }

        .table th, .table td {
            border-bottom: 1px solid #F0E6E0;
        }

        .table-light {
            background-color: #FEF6F0;
        }

        /* 算法对比卡片样式 */
        .metric-card {
            transition: transform 0.2s ease;
        }

        .metric-card:hover {
            transform: scale(1.02);
        }

        .improvement-positive {
            color: #2E7D32;
            font-weight: bold;
        }

        .improvement-negative {
            color: #C62828;
            font-weight: bold;
        }

        /* 内存分配可视化样式 */
        .memory-visualization {
            margin-top: 2rem;
        }

        .memory-container {
            width: 100%;
            height: 120px;
            border: 2px solid #ddd;
            border-radius: 8px;
            position: relative;
            background-color: #f9f9f9;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .memory-partition {
            position: absolute;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            font-size: 14px;
            font-weight: 500;
            border-right: 1px solid var(--border-color);
            box-sizing: border-box;
            transition: all 0.5s ease;
        }

        .memory-partition.allocated {
            background-color: var(--allocated-color);
        }

        .memory-partition.free {
            background-color: var(--free-color);
        }

        .memory-stats {
            margin-top: 1rem;
        }

        .progress-container {
            height: 25px;
            background-color: #e0e0e0;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 100%;
            display: flex;
            align-items: center;
            padding-left: 10px;
            color: white;
            font-weight: 500;
            font-size: 14px;
        }

        .memory-actions {
            margin-top: 1rem;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .memory-partitions-list {
            margin-top: 1rem;
            max-height: 200px;
            overflow-y: auto;
        }

        .partition-item {
            padding: 8px 12px;
            margin-bottom: 5px;
            border-radius: 4px;
            font-size: 14px;
        }

        /* 新增/修改：路径规划相关样式统一 */

        /* 统一输入框/选择框边框颜色 */
        .card-body input[type="number"],
        .card-body select {
            border-color: var(--macaron-green);
            border-radius: 0.5rem;
            padding: 0.375rem 0.75rem;
            transition: border-color 0.3s ease;
        }

        .card-body input[type="number"]:focus,
        .card-body select:focus {
            box-shadow: 0 0 0 0.25rem rgba(199, 206, 234, 0.5); /* 使用 macaron-green 的淡化色 */
            border-color: var(--macaron-green-dark);
        }

        .controls .group label {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* 统一 lane/path 容器的卡片内联样式，使其与卡片背景一致 */
        .lane-card-style {
            background-color: white !important; /* 确保背景色统一 */
            border: 1px solid #F0E6E0 !important;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05); /* 增加轻微阴影 */
            border-radius: 0.5rem;
            padding: 8px; /* 增加内边距 */
        }

        /* 统一路径点的样式 */
        .point {
            background: var(--macaron-gray-dark); /* 统一使用深灰色 */
        }
        .point.label {
            color: var(--text-color);
        }
        .head {
            background: var(--macaron-pink-dark); /* 突出机械臂用深粉色 */
        }
        .seg {
            background: var(--macaron-pink); /* 突出路径用粉色 */
        }
        .tick {
            background: #ccc;
            height: 15px; /* 减小刻度高度 */
        }
        .tick-label {
            bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: var(--macaron-yellow);">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-utensils me-2" style="color: #E67E22;"></i>机器人出餐管理系统
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" id="nav-dashboard" href="#dashboard" style="color: var(--text-color);">
                            <i class="fas fa-tachometer-alt me-1"></i>仪表盘
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-orders" href="#orders" style="color: var(--text-color);">
                            <i class="fas fa-list-alt me-1"></i>订单管理
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-resources" href="#resources" style="color: var(--text-color);">
                            <i class="fas fa-boxes me-1"></i>资源管理
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-memory" href="#memory" style="color: var(--text-color);">
                            <i class="fas fa-microchip me-1"></i>内存分配
                        </a>
                    </li>
                    <!-- 在原有导航项后添加路径规划页面 -->
                    <li class="nav-item">
                        <a class="nav-link" id="nav-path-planning" href="#path-planning" style="color: var(--text-color);">
                            <i class="fas fa-route me-1"></i>路径规划
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 主要内容区域 -->
    <div class="container py-4 content-area">
        <!-- 仪表盘页面 -->
        <div id="dashboard-page" class="page-content">
            <h2 class="mb-4" style="color: #E67E22;"><i class="fas fa-tachometer-alt me-2"></i>系统仪表盘</h2>

            <!-- 统计卡片 -->
            <div class="row mb-4">
                <div class="col-md-3 mb-3">
                    <div class="card h-100" style="background-color: var(--macaron-blue); color: #2A7B9B;">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-clipboard-list me-2"></i>今日订单</h5>
                            <h2 class="display-4" id="today-orders">0</h2>
                            <p class="card-text"><small>较昨日 <span style="color: #1A5276;"><i class="fas fa-arrow-up"></i> 12%</span></small></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="card h-100" style="background-color: var(--macaron-green); color: #4A5859;">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-check-circle me-2"></i>已完成订单</h5>
                            <h2 class="display-4" id="completed-orders">0</h2>
                            <p class="card-text"><small>完成率 <span id="completion-rate">0%</span></small></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="card h-100" style="background-color: var(--macaron-pink); color: #D64933;">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-robot me-2"></i>活跃机器人</h5>
                            <h2 class="display-4" id="active-robots">0</h2>
                            <p class="card-text"><small>总数 <span id="total-robots">0</span></small></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="card h-100" style="background-color: var(--macaron-orange); color: #D35400;">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-clock me-2"></i>平均出餐时间</h5>
                            <h2 class="display-4" id="avg-time">0</h2>
                            <p class="card-text"><small>分钟/单</small></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 图表和地图 - 调整比例，机器人分布区域更大 -->
            <div class="row">
                <div class="col-md-4 mb-4">  <!-- 订单趋势区域缩小 -->
                    <div class="card h-100">
                        <div class="card-header">
                            <h5 class="mb-0" style="color: #2A7B9B;"><i class="fas fa-chart-line me-2"></i>订单趋势</h5>
                        </div>
                        <div class="card-body">
                            <canvas id="orders-chart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-8 mb-4">  <!-- 机器人分布区域扩大 -->
                    <div class="card h-100">
                        <div class="card-header">
                            <h5 class="mb-0" style="color: #D64933;"><i class="fas fa-map-marked-alt me-2"></i>餐厅机器人分布</h5>
                        </div>
                        <div class="card-body p-0">
                            <div class="map-container" id="restaurant-map">
                                <!-- 餐厅地图和机器人位置将通过JS动态生成 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 订单管理页面 -->
        <div id="orders-page" class="page-content d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 style="color: #E67E22;"><i class="fas fa-list-alt me-2"></i>订单管理</h2>
                <button class="btn" style="background-color: var(--macaron-pink); color: #D64933;" data-bs-toggle="modal" data-bs-target="#new-order-modal">
                    <i class="fas fa-plus me-1"></i>新建订单
                </button>
            </div>

            <!-- 订单筛选 -->
            <div class="card mb-4">
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-3">
                            <input type="text" class="form-control" id="order-search" placeholder="搜索订单号" style="border-color: var(--macaron-green);">
                        </div>
                        <div class="col-md-3">
                            <select class="form-select" id="order-status-filter" style="border-color: var(--macaron-green);">
                                <option value="all">所有状态</option>
                                <option value="pending">待处理</option>
                                <option value="cooking">烹饪中</option>
                                <option value="completed">已完成</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select class="form-select" id="order-priority-filter" style="border-color: var(--macaron-green);">
                                <option value="all">所有优先级</option>
                                <option value="1">普通 (1)</option>
                                <option value="2">中等 (2)</option>
                                <option value="3">较高 (3)</option>
                                <option value="4">高 (4)</option>
                                <option value="5">紧急 (5)</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <button class="btn w-100" style="background-color: var(--macaron-green); color: #4A5859;" id="filter-orders">
                                <i class="fas fa-filter me-1"></i>筛选
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 订单列表 -->
            <div class="card">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>订单号</th>
                                <th>菜品</th>
                                <th>优先级</th>
                                <th>创建时间</th>
                                <th>状态</th>
                                <th>处理机器人</th>
                                <th>完成时间</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="orders-table-body">
                            <!-- 订单数据将通过JS动态生成 -->
                        </tbody>
                    </table>
                </div>
                <div class="card-footer text-center" id="no-orders-message">
                    暂无更多订单数据
                </div>
            </div>
        </div>



        <!-- 资源管理页面 -->
        <div id="resources-page" class="page-content d-none">
            <h2 class="mb-4" style="color: #E67E22;"><i class="fas fa-boxes me-2"></i>资源管理</h2>

            <div class="row mb-4">
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0" style="color: #D64933;"><i class="fas fa-utensils me-2"></i>烹饪器具</h5>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-hover mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>器具ID</th>
                                        <th>类型</th>
                                        <th>状态</th>
                                        <th>占用机器人</th>
                                    </tr>
                                </thead>
                                <tbody id="utensils-table-body">
                                    <!-- 烹饪器具数据将通过JS动态生成 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0" style="color: #2A7B9B;"><i class="fas fa-table me-2"></i>工作台</h5>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-hover mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>工作台ID</th>
                                        <th>容量</th>
                                        <th>状态</th>
                                        <th>占用机器人</th>
                                        <th>当前任务</th>
                                    </tr>
                                </thead>
                                <tbody id="workstations-table-body">
                                    <!-- 工作台数据将通过JS动态生成 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-md-12 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0" style="color: #4A5859;"><i class="fas fa-chart-line me-2"></i>算法与非算法资源管理对比</h5>
                        </div>
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <div class="card metric-card h-100" style="background-color: var(--macaron-blue); color: #2A7B9B;">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-clock me-2"></i>平均响应时间 (分钟)</h5>
                                            <div class="d-flex justify-content-between align-items-center mt-3">
                                                <div>
                                                    <p class="mb-1"><small>使用算法</small></p>
                                                    <p class="display-6 mb-0" id="alg-avg-response">0</p>
                                                </div>
                                                <div>
                                                    <p class="mb-1"><small>不使用算法</small></p>
                                                    <p class="display-6 mb-0" id="noalg-avg-response">0</p>
                                                </div>
                                            </div>
                                            <p class="mt-3"><small>改进: <span id="response-improvement" class="improvement-positive">0%</span></small></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card metric-card h-100" style="background-color: var(--macaron-green); color: #4A5859;">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="fas fa-money-bill-wave me-2"></i>总收益 (元)</h5>
                                            <div class="d-flex justify-content-between align-items-center mt-3">
                                                <div>
                                                    <p class="mb-1"><small>使用算法</small></p>
                                                    <p class="display-6 mb-0" id="alg-revenue">0</p>
                                                </div>
                                                <div>
                                                    <p class="mb-1"><small>不使用算法</small></p>
                                                    <p class="display-6 mb-0" id="noalg-revenue">0</p>
                                                </div>
                                            </div>
                                            <p class="mt-3"><small>提升: <span id="revenue-improvement" class="improvement-positive">0%</span></small></p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mb-5">
                                <div class="col-md-12">
                                    <h6 class="text-center text-secondary mb-3">性能指标对比柱状图</h6>
                                    <div style="height: 300px;"><canvas id="comparison-chart"></canvas></div>
                                </div>
                            </div>

                            <h5 class="card-title text-center text-secondary mb-3 mt-4">收益随时间变化趋势 (每分钟更新)</h5>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <h6 class="text-center text-muted">基础算法收益</h6>
                                    <div style="height: 300px;"><canvas id="noalg-revenue-chart"></canvas></div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <h6 class="text-center text-muted">优化算法收益</h6>
                                    <div style="height: 300px;"><canvas id="alg-revenue-chart"></canvas></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 内存分配算法可视化页面 -->
<div id="memory-page" class="page-content d-none memory-visualization">
    <h2 class="mb-4" style="color: #E67E22;"><i class="fas fa-microchip me-2"></i>动态内存分配算法可视化</h2>

    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0" style="color: #2A7B9B;"><i class="fas fa-desktop me-2"></i>工作台内存分区状态</h5>
        </div>
        <div class="card-body">
            <div class="memory-container" id="memory-container">
                </div>

            <div class="memory-stats mt-3">
                <div class="row mb-2">
                    <div class="col-md-3">
                        <strong>总空间:</strong> <span id="total-memory">0</span> KB
                    </div>
                    <div class="col-md-3">
                        <strong>已使用空间:</strong> <span id="used-memory">0</span> KB
                    </div>
                    <div class="col-md-3">
                        <strong>可用空间:</strong> <span id="free-memory">0</span> KB
                    </div>
                    <div class="col-md-3">
                        <strong>碎片数量:</strong> <span id="fragment-count">0</span> 个
                    </div>
                </div>

                <div class="progress-container">
                    <div class="progress-bar" id="memory-usage-bar" style="width: 0%; background-color: var(--allocated-color);">
                        已使用: 0%
                    </div>
                </div>
            </div>

            <div class="memory-partitions-list mt-4">
                <h6><i class="fas fa-list-ul me-1"></i>分区详细信息:</h6>
                <div id="partitions-list">
                    </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h5 class="mb-0" style="color: #4A5859;"><i class="fas fa-info-circle me-2"></i>最佳适应算法说明</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-12">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <strong>分配策略:</strong> 遍历所有未分配分区，找到大小最接近所需空间的空闲分区进行分配
                        </li>
                        <li class="list-group-item">
                            <strong>分区切割:</strong> 当最佳分区大于所需空间时，切割为刚好满足需求的已分配分区和剩余的未分配分区
                        </li>
                        <li class="list-group-item">
                            <strong>释放与合并:</strong> 释放分区后，自动检查并合并相邻的空闲分区，减少外部碎片
                        </li>
                        <li class="list-group-item">
                            <strong>碎片整理:</strong> 当分配失败但总可用空间足够时，将所有已分配分区紧凑排列，合并所有空闲空间
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
    </div>

    <!-- 新建订单模态框 -->
    <div class="modal fade" id="new-order-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content" style="border: none; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                <div class="modal-header" style="border-bottom: 1px solid #F0E6E0; background-color: var(--macaron-yellow);">
                    <h5 class="modal-title" style="color: #E67E22;"><i class="fas fa-plus-circle me-2"></i>新建订单</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="new-order-form">
                        <div class="mb-3">
                            <label for="order-dishes" class="form-label">选择菜品</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="麦辣鸡腿汉堡" id="dish1" style="border-color: var(--macaron-pink);">
                                <label class="form-check-label" for="dish1">麦辣鸡腿汉堡 (¥32)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="双层吉士汉堡" id="dish2" style="border-color: var(--macaron-pink);">
                                <label class="form-check-label" for="dish2">双层吉士汉堡 (¥30)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="板烧鸡腿堡" id="dish3" style="border-color: var(--macaron-pink);">
                                <label class="form-check-label" for="dish3">板烧鸡腿堡 (¥20)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="炸鸡排" id="dish4" style="border-color: var(--macaron-pink);">
                                <label class="form-check-label" for="dish4">炸鸡排 (¥18)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="麦满分" id="dish5" style="border-color: var(--macaron-pink);">
                                <label class="form-check-label" for="dish5">麦满分 (¥20)</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="order-priority" class="form-label">订单优先级</label>
                            <select class="form-select" id="order-priority" required="" style="border-color: var(--macaron-green);">
                                <option value="1">普通 (1)</option>
                                <option value="3">加急 (3)</option>
                                <option value="5">VIP 紧急 (5)</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="order-processing-algorithm" class="form-label">处理算法</label>
                            <select class="form-select" id="order-processing-algorithm" required="" style="border-color: var(--macaron-green);">
                                <option value="better">优化算法</option>
                                <option value="basic">基础算法</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="order-notes" class="form-label">备注信息（可选）</label>
                            <textarea class="form-control" id="order-notes" rows="2" placeholder="例如：不要香菜、少辣等" style="border-color: var(--macaron-green);"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer" style="border-top: 1px solid #F0E6E0;">
                    <button type="button" class="btn" style="background-color: var(--macaron-green); color: #4A5859;" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn" style="background-color: var(--macaron-pink); color: #D64933;" id="submit-order">提交订单</button>
                </div>
            </div>
        </div>
    </div>
    <div id="path-planning-page" class="page-content d-none">
        <!-- 增加页面整体留白，通过容器控制内外边距 -->
        <div style="padding: 10px 60px;">
            <h2 class="mb-4" style="color: #E67E22;"><i class="fas fa-route me-2"></i>            食材拿取路径规划
            </h2>

            <!-- 主内容卡片，包含所有页面内容 -->
            <div class="card mb-4 shadow-sm">
                <div class="card-body" style="padding: 25px;">


                    <hr class="my-3">

                    <div class="d-flex flex-wrap align-items-center mb-4">
                        <div class="d-flex align-items-center me-4 mb-2">
                            <label class="d-flex align-items-center me-3">播放速度
                                <select id="speed" class="form-select form-select-sm ms-2" style="width: 100px;">
                                    <option value="0.5">0.5x</option>
                                    <option value="1" selected>1x</option>
                                    <option value="2">2x</option>
                                    <option value="4">4x</option>
                                </select>
                            </label>

                            <div class="btn-group" role="group">
                                <button id="btn-play" class="btn btn-sm transition-colors hover:shadow-sm" style="background-color: var(--macaron-pink); color: #D64933;">
                                    <i class="fas fa-play"></i> 播放
                                </button>
                                <button id="btn-pause" class="btn btn-sm transition-colors hover:shadow-sm" style="background-color: var(--macaron-yellow); color: #E67E22;">
                                    <i class="fas fa-pause"></i> 暂停
                                </button>
                                <button id="btn-step" class="btn btn-sm transition-colors hover:shadow-sm" style="background-color: var(--macaron-orange); color: #DAA520;">
                                    <i class="fas fa-forward"></i> 单步
                                </button>
                                <button id="btn-reset" class="btn btn-sm transition-colors hover:shadow-sm" style="background-color: var(--macaron-purple); color: white;">
                                    <i class="fas fa-undo"></i> 重置
                                </button>
                            </div>
                        </div>

                        <div class="ms-auto mb-2">
                            <button id="btn-compare" class="btn btn-sm transition-colors hover:shadow-sm" style="background-color: var(--macaron-blue-dark); color: white;">
                                <i class="fas fa-balance-scale-left me-1"></i>一键对比所有算法
                            </button>
                        </div>
                    </div>

                    <!-- 算法对比板块卡片化 -->
                    <div class="card mb-4">
                        <div class="card-header">
                            <h5 class="mb-0" style="color: #4A5859;"><i class="fas fa-chart-bar me-2"></i>算法对比（同一批请求）</h5>
                        </div>
                        <div class="card-body p-0">
                            <table class="table table-hover mb-0">
                                <thead class="table-light">
                                <tr>
                                    <th>算法</th>
                                    <th>处理顺序</th>
                                    <th>总距离</th>
                                    <th>结束位置</th>
                                </tr>
                                </thead>
                                <tbody id="comparison-results">
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <hr class="my-4">

                    <div class="legend mt-4 mb-3">
                        <span class="badge" style="background-color: var(--macaron-pink-dark); color: white;">机械臂位置</span>
                        <span class="badge" style="background-color: var(--macaron-gray-dark); color: white;">请求位置</span>
                        <span class="badge" style="background-color: var(--macaron-pink); color: #D64933;">规划路径</span>
                    </div>

                    <h5 class="mt-4" style="color: #4A5859;"><i class="fas fa-warehouse me-2"></i>仓库分布 (0-100)</h5>
                    <div id="warehouse" class="lane lane-card-style p-3"></div>

                    <h5 class="mt-4" style="color: #4A5859;"><i class="fas fa-box-open me-2"></i>请求位置</h5>
                    <div id="requests" class="lane lane-card-style p-3"></div>

                    <h5 class="mt-4" style="color: #4A5859;"><i class="fas fa-route me-2"></i>调度路径（<span id="alg-label">FCFS</span>）</h5>
                    <div id="path" class="lane lane-card-style p-3"></div>

                    <div class="d-flex justify-content-start align-items-center mt-3 mb-3 p-3 rounded" style="background-color: var(--macaron-tyellow); border: 1px dashed #E67E22;">
                        <div>初始位置：<b id="info-start">-</b></div>
                        <div class="ms-4">结束位置：<b id="info-end">-</b></div>
                        <div class="ms-4">总距离：<b id="info-distance">-</b></div>
                    </div>

                    <h5 class="mt-4" style="color: #4A5859;"><i class="fas fa-file-alt me-2"></i>调度结果（处理顺序）</h5>
                    <div id="result" class="result p-3 rounded" style="background-color: var(--macaron-light); border: 1px solid #E9ECEF;">
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- 页脚 -->
    <footer class="py-3" style="background-color: var(--macaron-yellow); color: #E67E22;">
        <div class="container text-center">
            <p class="mb-0">机器人出餐管理系统 © 操作系统课程设计</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- 引入外部JavaScript文件 -->
    <script src="js/restaurant.js"></script>
</body>
</html>
